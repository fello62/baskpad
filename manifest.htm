<!DOCTYPE html>
<html lang="it" manifest="baskpad.manifest">
<head>
<meta charset="UTF-8">
<link rel="apple-touch-icon" href="apple-touch-icon.png" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
</head>
<body>
<script src="js/jquery-1.11.2.min.js"></script>
<script>
<!--
var appCache,displayProgress,offlineReady;
appCache=window.applicationCache;
offlineReady=parent.offlineReady;
displayProgress=parent.displayProgress;

parent.mu.click(function(event){
 event.preventDefault();
 parent.getTotalFiles();
 setTimeout(function(){appCache.update();},2000);
});

appCache.onchecking=function(event){
 displayProgress('Controllo files da caricare');
 offlineReady(false);
};

appCache.onnoupdate=function(event){
 displayProgress('Nessun aggiornamento');
 offlineReady(true);
};

appCache.ondownloading=function(event){
 displayProgress('Caricamento lista files');
};

appCache.onprogress=function(event){
 displayProgress();
};

appCache.oncached=function(event){
 displayProgress('Caricati tutti i files');
 alert('Application Cache pronta');
 parent.checkOL();
 //fine del primo caricamento
 offlineReady(true);
};

appCache.onupdateready=function(event){
 displayProgress('Nuovi files disponibili');
 displayProgress('Pagina in ricaricamento...');
 appCache.swapCache();
 alert('Application cache aggiornata: ricaricamento pagina');
 setTimeout(function(){
  window.parent.location.reload();
 },2000);
};

appCache.onerror=function(event){
 displayProgress('Errore nel controllo');
 offlineReady(parent.acOK);
};

offlineReady(false,appCache);
-->
</script>
</body>
</html>